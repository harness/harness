{
  "mainHeader": "RPM Client Setup",
  "secHeader": "Follow these instructions to install/upload RPM packages.",
  "sections": [
    {
      "header": "1. Configure Authentication",
      "steps": [
        {
          "header": "Generate an identity token for authentication",
          "type": "GenerateToken"
        }
      ],
      "type": "INLINE"
    },
    {
      "tabs": [
        {
          "header": "YUM",
          "sections": [
            {
              "header": "2. Install a RPM Package",
              "steps": [
                {
                  "commands": [
                    {
                      "value": "sudo vi /etc/yum.repos.d/harness-test-registry.repo"
                    }
                  ],
                  "header": "Create or edit the .repo file.",
                  "type": "Static"
                },
                {
                  "commands": [
                    {
                      "value": "[harness-test-registry]\nname=harness-test-registry\nbaseurl=http://example.com/registry/test-registry/RPM\nenabled=1\ngpgcheck=0\nusername=test@example.com\npassword=*see step 1*\n"
                    }
                  ],
                  "header": "Add the following content:",
                  "type": "Static"
                },
                {
                  "commands": [
                    {
                      "value": "sudo yum clean all"
                    }
                  ],
                  "header": "Clear the YUM cache.",
                  "type": "Static"
                },
                {
                  "commands": [
                    {
                      "value": "sudo yum install test-artifact"
                    }
                  ],
                  "header": "Install package.",
                  "type": "Static"
                }
              ],
              "type": "INLINE"
            },
            {
              "header": "3. Upload RPM Package",
              "steps": [
                {
                  "commands": [
                    {
                      "value": "curl --location --request PUT 'http://example.com/registry/test-registry/RPM/' \\\n--form 'file=@\"\u003cFILE_PATH\u003e\"' \\\n--header 'Authorization: Bearer \u003cAPI_KEY\u003e'"
                    }
                  ],
                  "header": "To upload a RPM artifact run the following cURL with your package file:",
                  "type": "Static"
                }
              ],
              "type": "INLINE"
            }
          ]
        },
        {
          "header": "DNF",
          "sections": [
            {
              "header": "2. Install a RPM Package",
              "steps": [
                {
                  "commands": [
                    {
                      "value": "sudo vi /etc/yum.repos.d/harness-test-registry.repo"
                    }
                  ],
                  "header": "Create or edit the .repo file.",
                  "type": "Static"
                },
                {
                  "commands": [
                    {
                      "value": "[harness-test-registry]\nname=harness-test-registry\nbaseurl=http://example.com/registry/test-registry/RPM\nenabled=1\ngpgcheck=0\nusername=test@example.com\npassword=*see step 1*\n"
                    }
                  ],
                  "header": "Add the following content:",
                  "type": "Static"
                },
                {
                  "commands": [
                    {
                      "value": "sudo dnf clean all"
                    }
                  ],
                  "header": "Clear the DNF cache.",
                  "type": "Static"
                },
                {
                  "commands": [
                    {
                      "value": "sudo dnf install test-artifact"
                    }
                  ],
                  "header": "Install package.",
                  "type": "Static"
                }
              ],
              "type": "INLINE"
            },
            {
              "header": "3. Upload RPM Package",
              "steps": [
                {
                  "commands": [
                    {
                      "value": "curl --location --request PUT 'http://example.com/registry/test-registry/RPM/' \\\n--form 'file=@\"\u003cFILE_PATH\u003e\"' \\\n--header 'Authorization: Bearer \u003cAPI_KEY\u003e'"
                    }
                  ],
                  "header": "To upload a RPM artifact run the following cURL with your package file:",
                  "type": "Static"
                }
              ],
              "type": "INLINE"
            }
          ]
        }
      ],
      "type": "TABS"
    }
  ]
}