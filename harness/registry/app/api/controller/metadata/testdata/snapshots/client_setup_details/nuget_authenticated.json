{
  "mainHeader": "Nuget Client Setup",
  "secHeader": "Follow these instructions to install/use Nuget packages from this registry.",
  "sections": [
    {
      "tabs": [
        {
          "header": "Nuget",
          "sections": [
            {
              "header": "Configure Authentication",
              "steps": [
                {
                  "commands": [
                    {
                      "value": "nuget sources add -Name harness -Source http://example.com/registry/test-registry/NUGET/index.json -Username test@example.com -Password \u003cTOKEN\u003e\n\n"
                    },
                    {
                      "value": "nuget setapikey \u003cTOKEN\u003e -Source harness\n\n"
                    },
                    {
                      "label": "Note: For Nuget V2 Client, use this url: http://example.com/registry/test-registry/NUGET/",
                      "value": "http://example.com/registry/test-registry/NUGET/"
                    }
                  ],
                  "header": "Add the Harness Registry as a package source:",
                  "type": "Static"
                },
                {
                  "header": "Generate an identity token for authentication",
                  "type": "GenerateToken"
                }
              ],
              "type": "INLINE"
            },
            {
              "header": "Install Package",
              "steps": [
                {
                  "commands": [
                    {
                      "value": "nuget install test-artifact -Version v1.0.0 -Source harness"
                    }
                  ],
                  "header": "Install a package using nuget:",
                  "type": "Static"
                }
              ],
              "type": "INLINE"
            },
            {
              "header": "Publish Package",
              "steps": [
                {
                  "commands": [
                    {
                      "value": "nuget push \u003cPACKAGE_FILE\u003e -Source harness\n\n"
                    },
                    {
                      "label": "Note: To publish your package with nested directory, refer below command",
                      "value": ""
                    },
                    {
                      "value": "nuget push \u003cPACKAGE_FILE\u003e -Source http://example.com/registry/test-registry/NUGET/\u003cSUB_DIRECTORY\u003e -ApiKey \u003cTOKEN\u003e"
                    }
                  ],
                  "header": "Publish your package:",
                  "type": "Static"
                }
              ],
              "type": "INLINE"
            }
          ]
        },
        {
          "header": "Dotnet",
          "sections": [
            {
              "header": "Configure Authentication",
              "steps": [
                {
                  "commands": [
                    {
                      "value": "dotnet nuget add source  http://example.com/registry/test-registry/NUGET/index.json --name harness --username test@example.com --password \u003cTOKEN\u003e --store-password-in-clear-text\n\n"
                    },
                    {
                      "label": "Note: For Nuget V2 Client, use this url: http://example.com/registry/test-registry/NUGET/",
                      "value": "http://example.com/registry/test-registry/NUGET/"
                    }
                  ],
                  "header": "Add the Harness Registry as a package source:",
                  "type": "Static"
                },
                {
                  "header": "Generate an identity token for authentication",
                  "type": "GenerateToken"
                }
              ],
              "type": "INLINE"
            },
            {
              "header": "Install Package",
              "steps": [
                {
                  "commands": [
                    {
                      "value": "dotnet package add test-artifact --version v1.0.0 --source harness"
                    }
                  ],
                  "header": "Add a package using dotnet:",
                  "type": "Static"
                }
              ],
              "type": "INLINE"
            },
            {
              "header": "Publish Package",
              "steps": [
                {
                  "commands": [
                    {
                      "value": "dotnet nuget push \u003cPACKAGE_FILE\u003e --api-key \u003cTOKEN\u003e --source harness\n\n"
                    },
                    {
                      "label": "Note: To publish your package with nested directory, refer below command",
                      "value": ""
                    },
                    {
                      "value": "dotnet nuget push \u003cPACKAGE_FILE\u003e --source http://example.com/registry/test-registry/NUGET/\u003cSUB_DIRECTORY\u003e --api-key \u003cTOKEN\u003e"
                    }
                  ],
                  "header": "Publish your package:",
                  "type": "Static"
                }
              ],
              "type": "INLINE"
            }
          ]
        },
        {
          "header": "Visual Studio",
          "sections": [
            {
              "header": "Configure Nuget Package Source",
              "steps": [
                {
                  "commands": [
                    {
                      "value": "\u003c?xml version=\"1.0\" encoding=\"utf-8\"?\u003e\n\u003cconfiguration\u003e\n \u003cpackageSources\u003e\n     \u003cclear /\u003e\n     \u003cadd key=\"harness\" value=\"http://example.com/registry/test-registry/NUGET/index.json\" /\u003e\n \u003c/packageSources\u003e\n \u003cpackageSourceCredentials\u003e\n     \u003charness\u003e\n         \u003cadd key=\"Username\" value=\"test@example.com\" /\u003e\n         \u003cadd key=\"ClearTextPassword\" value=\"\u003cTOKEN\u003e\" /\u003e\n     \u003c/harness\u003e\n \u003c/packageSourceCredentials\u003e\n\u003c/configuration\u003e"
                    }
                  ],
                  "header": "Add below config in Nuget.Config file to add Harness Registry as package source:",
                  "type": "Static"
                },
                {
                  "header": "Generate an identity token for authentication",
                  "type": "GenerateToken"
                }
              ],
              "type": "INLINE"
            }
          ]
        }
      ],
      "type": "TABS"
    }
  ]
}